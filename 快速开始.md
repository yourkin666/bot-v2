# 🚀 AI 小子快速开始指南

## 📋 前置准备

✅ Node.js 环境  
✅ 一个邮箱账户（QQ 邮箱、163 邮箱等）  
✅ 5 分钟时间

## 🛠️ 第一步：配置邮件服务

### 1. 获取邮箱授权码

**QQ 邮箱用户：**

1. 打开 https://mail.qq.com → 设置 → 账户
2. 找到"POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV 服务"
3. 开启"IMAP/SMTP 服务"
4. 记录生成的**授权码**（不是 QQ 密码！）

**163 邮箱用户：**

1. 打开 https://mail.163.com → 设置 → POP3/SMTP/IMAP
2. 开启"IMAP/SMTP 服务"
3. 记录生成的**授权码**

### 2. 修改配置文件

打开 `config.js` 文件，找到第 15-20 行：

```javascript
// 邮件服务配置
email: {
  smtp: {
    host: 'smtp.qq.com',           // QQ邮箱保持不变，163邮箱改为 smtp.163.com
    port: 587,                     // QQ邮箱保持不变，163邮箱改为 465
    secure: false,                 // QQ邮箱保持不变，163邮箱改为 true
    auth: {
      user: '你的邮箱@qq.com',     // 🔧 修改为你的邮箱
      pass: '你的授权码'           // 🔧 修改为获取的授权码
    }
  },
  from: '你的邮箱@qq.com',        // 🔧 修改为你的邮箱
```

**配置示例：**

QQ 邮箱：

```javascript
user: 'xiaoming@qq.com',
pass: 'abc123def456',           // 这是授权码，不是QQ密码
```

163 邮箱：

```javascript
host: 'smtp.163.com',
port: 465,
secure: true,
user: 'xiaoming@163.com',
pass: 'abc123def456',           // 这是授权码，不是登录密码
```

## 🎯 第二步：启动系统

打开终端，执行：

```bash
# 安装依赖（第一次运行需要）
npm install

# 启动服务
npm start
```

看到以下输出表示启动成功：

```
🚀 AI小子后端服务启动成功！
🌐 主页面: http://localhost:3002/
📧 认证API: http://localhost:3002/api/auth
✅ 邮件服务已配置: smtp.qq.com
🎉 所有服务已就绪！
```

## 🌐 第三步：注册账户

1. **打开浏览器**访问：http://localhost:3002
2. **自动跳转**到登录页面（未登录会自动跳转）
3. **点击注册**选项卡
4. **填写信息**：
   - 邮箱：你的真实邮箱
   - 密码：至少 6 位
   - 验证码：点击"发送验证码"按钮
5. **查收邮件**：在邮箱中查看验证码（可能在垃圾邮件中）
6. **完成注册**：输入验证码，点击注册

## 🎉 第四步：开始使用

注册成功后会自动跳转到主界面：

- **独立聊天**：你的聊天记录完全独立
- **用户信息**：左下角显示当前登录用户
- **安全登出**：随时可以安全退出
- **自动登录**：下次访问无需重复登录

## 🛠️ 常见问题

### Q1: 收不到验证码邮件？

- 检查垃圾邮件箱
- 确认邮箱地址正确
- 确认配置文件中的邮箱信息无误
- 确认授权码是否正确（不是登录密码）

### Q2: 启动时显示"邮件服务未配置"？

```
❌ 邮件服务未配置，请在配置文件中设置SMTP信息
```

说明 `config.js` 中的邮件配置还是默认值，需要按第一步修改。

### Q3: 启动失败？

- 确认 Node.js 版本 >= 14
- 检查 3002 端口是否被占用
- 删除 node_modules 文件夹后重新`npm install`

### Q4: 登录后看不到历史聊天？

这是正常的！新用户没有历史记录，开始聊天后会自动保存。

### Q5: 忘记密码怎么办？

目前需要删除用户数据重新注册。数据文件位置：`data/users.json`

## 📁 文件结构

```
bot-v2/
├── login.html          # 登录注册页面
├── index.html          # 主聊天界面
├── config.js           # 配置文件（需要修改）
├── server.js           # 服务器入口
├── data/               # 数据存储目录
│   ├── users.json      # 用户数据
│   └── users/          # 用户聊天记录
└── 快速开始.md         # 本指南
```

## 🔒 安全提示

1. **授权码保密**：不要把邮箱授权码泄露给他人
2. **定期更换**：建议定期更换邮箱授权码
3. **生产环境**：如果部署到服务器，修改 config.js 中的 JWT 密钥

## 📞 获取帮助

- 查看 `邮件配置说明.md` 了解详细配置
- 查看 `用户系统功能说明.md` 了解完整功能
- 遇到问题可以查看服务器控制台输出

---

**🎊 现在你就可以享受专属的 AI 聊天体验了！每个用户的聊天记录完全独立和私密。**
